# **5.3 RETRIEVE MPA – TESTING SUPPORT**

**Web Method Name:** RetrieveMpaXml

**Purpose:**  Enables the ability for a MPA submissions values retrieved/pulled back in order to perform field mapping.  Note:  UAT region is not available to be accessed by clients at this time.  This provides the ability to test the field mappings to ensure that the value mapped to the correct field as expected.

**Input Parameters:**

|Name|Data Type|Type Category|Description|
| :- | :- | :- | :- |
|mpaId|String|simpleType|Unique sequence generated for each MPA submitted by AccessOne|
|extRefID|String|simpleType|Unique sequence generated by the Client System.|
1. #### **Request & Response**
Boarding API web service returns MPA data in its entirety for every valid request sent to the RetrieveMpaXml web method. Each response is a snapshot of the corresponding MPA’s data from the Boarding Application at the time the retrieval request is made. 

Only one full MPA is returned per one call made to RetrieveMpaXml. Only the submitter is allowed to retrieve the MPA they have submitted via Boarding API. 

There are many reasons a retrieval request can fail, e.g. Boarding API web service is not available, retrieval request supplies invalid parameters. In these cases Boarding API users are advised to submit their retrieval request at a later time after all failure reasons have been identified and dealt with. 


|**Failed Retrieval Response Sample (Non-existent MPA ID)**|
| :-: |
|<p><s:Envelope xmlns:s="http://schemas.xmlsoap.org/soap/envelope/"></p><p>`   `<s:Body xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"></p><p>`      `<RetrieveMpaXmlResponse xmlns="http://tempuri.org/"></p><p>`         `<RetrieveMpaXmlResult></p><p>`            `<SubmitMPAResult xmlns=""></p><p>`               `<Timestamp>12/10/2015 04:32:17 PM</Timestamp></p><p>`               `<Status>Invalid MPAID - 41000</Status></p><p>`            `</SubmitMPAResult></p><p>`         `</RetrieveMpaXmlResult></p><p>`      `</RetrieveMpaXmlResponse></p><p>`   `</s:Body></p><p></s:Envelope></p>|
|**Successful Retrieval Response Sample**|
|<p><s:Envelope xmlns:s="http://schemas.xmlsoap.org/soap/envelope/"></p><p>`   `<s:Body xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"></p><p>`      `<RetrieveMpaXmlResponse xmlns="http://tempuri.org/"></p><p>`         `<RetrieveMpaXmlResult></p><p>`            `<ApplicationInformation xmlns=""></p><p>`		`……………………………………………………………………………………………………</p><p>`	       `………………………………………………………………………………………………………………………………………………………</p><p>`              `………………………………………………………………………………………………………….</p><p>`            `</ApplicationInformation></p><p>`         `</RetrieveMpaXmlResult></p><p>`      `</RetrieveMpaXmlResponse></p><p>`   `</s:Body></p><p></s:Envelope></p>|
||
