# **5.1 Submit MPA Method**

The Web Service Name is ASBoardingAPIService. 

This method allows the Client System to send MPA data to Boarding API. The following diagram illustrates the business flow inside the method.

Details of the method are as follows:

Web Method Name: SubmitMPA.

Input Parameters:

|**Name**|**Data Type**|**Type Category**|**Description**|
| :- | :- | :- | :- |
|XMLContent|String|simpleType|This xml has the merchant data from the Client System. Details are in [MPA XML FORMAT](#_MPA_XML_FORMAT) section.|
|ExtRefID|String|simpleType|Unique sequence generated by the Client System.|
Note: The user credentials will be passed along with the request on the SOAP Header and are identified in separate security document.

**Transmissions & Response**

When the Boarding API successfully receives and validates the XML content, it will respond with a synchronous SUCCESS status. If the XML content is received and fails validation, the Boarding API will respond with a FAILURE status and the detailed errors which explain the failure. The response can report multiple errors as below.

If any failure in transmission occurs, e.g. the service is unavailable, undergoing maintenance, or network connectivity problems occur, it is the Boarding API consumer’s responsibility to re-transmit the message at a later time. It is recommended that a back off algorithm be used when re-transmitting.

|Success Message Response Sample XML|
| :-: |
|<p><SubmitMPAResponse></p><p><SubmitMPAResult></p><p>`	`<ExternalRefId>123456789</ExternalRefId></p><p>`	`<ASRefId>123</ASRefId></p><p>`	`<Timestamp>2014-09-30 00:00:00.000</Timestamp></p><p>`	`<Status>SUCCESS</Status></p><p></SubmitMPAResult></p><p></SubmitMPAResponse></p>|
|Failure Message Response Sample XML|
|<p><SubmitMPAResponse></p><p><SubmitMPAResult></p><p>`	`<ExternalRefId>234567890</ExternalRefId></p><p>`	`<ASRefId>234</ASRefId></p><p>`	`<Timestamp>2014-09-30 00:00:00.000</Timestamp></p><p>`	`<Status>FAILURE</Status></p><p>`	`<Errors></p><p>`		`<MerchantError></p><p>`			`<ErrorId>1</ErrorId></p><p>`			`<ErrorDescription></ErrorDescription></p><p>`			`<LineNumber/></p><p>`			`<ColumnNumber/></p><p>`		`</MerchantError></p><p>`	`</Errors></p><p></SubmitMPAResult></p><p></SubmitMPAResponse></p>|


|**Tag Name**|**Tag Description**|
| :- | :- |
|**ExternalRefId**|It will hold the external Ref Id received from Client|
|**ASRefId**|It will hold the MPA ID generated from Fiserv Boarding system in case of success. It will be blank in case of failure|
|**Timestamp**|The date time stamp of success or failure of the submission.|
|**Status**|If the MPA XML Content passes the validation, it will be **SUCCESS**. Otherwise, it will be **FAILURE**|
|**Errors**|It will hold the MerchantError tags – Only applicable if the MPA XML Content fails against the validation.|
|**MerchantError**|It will contain multiple errors received while XSD validation as well as error that relates to MPA edits of boarding merchant.|
|**ErrorId**|Holds the Error #.|
|**ErrorDescription**|Holds the description of merchant error.|
|**LineNumber**|Holds the Error Line #. It could be sent as empty tag.|
|**ColumnNumber**|Holds the Error Column #. It could be sent as empty tag.|
